[gd_scene load_steps=12 format=3 uid="uid://2i26omtf3hb1"]

[ext_resource type="PackedScene" path="res://SceneTransition.tscn" id="1"]
[ext_resource type="Script" path="res://SongSelect.gd" id="2"]
[ext_resource type="Texture2D" uid="uid://4chq6x1q04hk" path="res://Sprites/Menu/New Project.png" id="3"]
[ext_resource type="Texture2D" uid="uid://b63ag17cp76ri" path="res://Sprites/Menu/gridiguess.png" id="4"]
[ext_resource type="Script" path="res://Menu/MainMenu.gd" id="5"]
[ext_resource type="Theme" uid="uid://cayu5vp50we05" path="res://Themes/DefaultTheme.tres" id="6"]
[ext_resource type="Script" path="res://Menu/SongSelect.gd" id="7"]
[ext_resource type="Script" path="res://Menu/Settings.gd" id="8"]
[ext_resource type="AudioStream" uid="uid://bkub5v77p6otv" path="res://Dead+City.mp3" id="9"]

[sub_resource type="Shader" id="9"]
code = "shader_type canvas_item;

const float timescale = 0.1;
const float rotation = 0.5;


void fragment() {
	vec2 px = UV;
	px.x = mod(px.x + TIME * timescale + UV.y, 1.0);
	px.y = mod(px.y + TIME * timescale + UV.x, 1.0);
	COLOR = textureLod(TEXTURE, px, 0.0);
}"

[sub_resource type="ShaderMaterial" id="10"]
shader = SubResource("9")

[node name="Menu" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
theme = ExtResource("6")
script = ExtResource("2")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9")
volume_db = -80.0
autoplay = true

[node name="SceneExit" parent="." instance=ExtResource("1")]

[node name="BG" type="TextureRect" parent="."]
material = SubResource("10")
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource("4")
expand_mode = 1

[node name="Logo" type="TextureRect" parent="."]
layout_mode = 0
offset_left = 455.0
offset_top = 17.0
offset_right = 999.0
offset_bottom = 267.0
texture = ExtResource("3")

[node name="Main" type="Control" parent="."]
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource("5")

[node name="MenuOptions" type="Control" parent="Main"]
anchors_preset = 0
offset_left = 86.0
offset_top = 334.0
offset_right = 403.0
offset_bottom = 530.0

[node name="PlayButton" type="Button" parent="Main/MenuOptions"]
layout_mode = 0
offset_right = 317.0
offset_bottom = 46.0
theme = ExtResource("6")
text = "PLAY"

[node name="EditorButton" type="Button" parent="Main/MenuOptions"]
layout_mode = 0
offset_top = 50.0
offset_right = 317.0
offset_bottom = 96.0
theme = ExtResource("6")
text = "LEVEL EDITOR"

[node name="SettingsButton" type="Button" parent="Main/MenuOptions"]
layout_mode = 0
offset_top = 100.0
offset_right = 317.0
offset_bottom = 146.0
theme = ExtResource("6")
text = "SETTINGS"

[node name="QuitButton" type="Button" parent="Main/MenuOptions"]
layout_mode = 0
offset_top = 150.0
offset_right = 317.0
offset_bottom = 196.0
theme = ExtResource("6")
text = "QUIT"

[node name="Songs" type="Control" parent="."]
visible = false
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource("7")

[node name="SongList" type="Control" parent="Songs"]
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 198.0
offset_right = -198.0
offset_bottom = -85.0

[node name="Leftward" type="Button" parent="Songs"]
layout_mode = 0
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 67.0
offset_top = -21.0
offset_right = 71.0
offset_bottom = 21.0
text = "<-"

[node name="Rightward" type="Button" parent="Songs"]
layout_mode = 0
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -106.0
offset_top = -21.0
offset_right = -73.0
offset_bottom = 21.0
text = "->"

[node name="Buttons" type="HBoxContainer" parent="Songs"]
layout_mode = 0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -5.0
offset_top = -61.0
offset_right = -24.0
offset_bottom = -19.0
theme_override_constants/separation = 50
alignment = 2

[node name="ReturnButton" type="Button" parent="Songs/Buttons"]
layout_mode = 2
text = "Return"

[node name="PlayButton" type="Button" parent="Songs/Buttons"]
layout_mode = 2
text = "Play"

[node name="Settings" type="Control" parent="."]
visible = false
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource("8")

[node name="Main" type="Control" parent="Settings"]
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Options" type="VBoxContainer" parent="Settings/Main"]
layout_mode = 0
offset_left = 88.0
offset_top = 336.0
offset_right = 284.0
offset_bottom = 478.0
theme_override_constants/separation = 8

[node name="AudioButton" type="Button" parent="Settings/Main/Options"]
layout_mode = 2
text = "AUDIO"
flat = true

[node name="GameplayButton" type="Button" parent="Settings/Main/Options"]
layout_mode = 2
text = "GAMEPLAY"
flat = true

[node name="ControlsButton" type="Button" parent="Settings/Main/Options"]
layout_mode = 2
disabled = true
text = "CONTROLS"
flat = true

[node name="ReturnButton" type="Button" parent="Settings/Main/Options"]
layout_mode = 2
text = "RETURN"
flat = true

[node name="Audio" type="Control" parent="Settings"]
visible = false
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Options" type="VBoxContainer" parent="Settings/Audio"]
layout_mode = 0
offset_left = 88.0
offset_top = 288.0
offset_right = 533.0
offset_bottom = 528.0
theme_override_constants/separation = 8

[node name="VolumeOption" type="VBoxContainer" parent="Settings/Audio/Options"]
layout_mode = 2

[node name="Label" type="Label" parent="Settings/Audio/Options/VolumeOption"]
layout_mode = 2
text = "MAIN VOLUME"

[node name="Slider" type="HSlider" parent="Settings/Audio/Options/VolumeOption"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 4

[node name="MusicOption" type="VBoxContainer" parent="Settings/Audio/Options"]
layout_mode = 2

[node name="Label" type="Label" parent="Settings/Audio/Options/MusicOption"]
layout_mode = 2
text = "MUSIC VOLUME"

[node name="Slider" type="HSlider" parent="Settings/Audio/Options/MusicOption"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 4

[node name="SFXOption" type="VBoxContainer" parent="Settings/Audio/Options"]
layout_mode = 2

[node name="Label" type="Label" parent="Settings/Audio/Options/SFXOption"]
layout_mode = 2
text = "SFX VOLUME"

[node name="Slider" type="HSlider" parent="Settings/Audio/Options/SFXOption"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 4

[node name="ReturnButton" type="Button" parent="Settings/Audio/Options"]
layout_mode = 2
text = "RETURN"
flat = true

[node name="Gameplay" type="Control" parent="Settings"]
visible = false
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 164.0
offset_bottom = 164.0

[node name="Options" type="VBoxContainer" parent="Settings/Gameplay"]
layout_mode = 0
offset_left = 88.0
offset_top = 256.0
offset_right = 533.0
offset_bottom = 364.0
grow_vertical = 0
theme_override_constants/separation = 8

[node name="ScrollOption" type="VBoxContainer" parent="Settings/Gameplay/Options"]
layout_mode = 2

[node name="Label" type="Label" parent="Settings/Gameplay/Options/ScrollOption"]
layout_mode = 2
text = "SCROLL SPEED"

[node name="Slider" type="HSlider" parent="Settings/Gameplay/Options/ScrollOption"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 4
min_value = 1.0
max_value = 10.0
value = 1.0

[node name="ReturnButton" type="Button" parent="Settings/Gameplay/Options"]
layout_mode = 2
text = "RETURN"
flat = true

[node name="Buttons" type="HBoxContainer" parent="Settings"]
visible = false
layout_mode = 0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -5.0
offset_top = -61.0
offset_right = -24.0
offset_bottom = -19.0
theme_override_constants/separation = 50
alignment = 2

[node name="ReturnButton" type="Button" parent="Settings/Buttons"]
layout_mode = 2
disabled = true
text = "Discard Changes"

[node name="PlayButton" type="Button" parent="Settings/Buttons"]
layout_mode = 2
text = "Return"

[connection signal="menu_change_request" from="Main" to="." method="_on_menu_change_requested"]
[connection signal="pressed" from="Main/MenuOptions/PlayButton" to="Main" method="_on_play_pressed"]
[connection signal="pressed" from="Main/MenuOptions/EditorButton" to="Main" method="_on_editor_pressed"]
[connection signal="pressed" from="Main/MenuOptions/SettingsButton" to="Main" method="_on_settings_pressed"]
[connection signal="pressed" from="Main/MenuOptions/QuitButton" to="Main" method="_on_quit_pressed"]
[connection signal="menu_change_request" from="Songs" to="." method="_on_menu_change_requested"]
[connection signal="play_song_request" from="Songs" to="." method="_on_play_song_requested"]
[connection signal="pressed" from="Songs/Leftward" to="Songs" method="_on_leftward_pressed"]
[connection signal="pressed" from="Songs/Rightward" to="Songs" method="_on_rightward_pressed"]
[connection signal="pressed" from="Songs/Buttons/ReturnButton" to="Songs" method="_on_return_pressed"]
[connection signal="pressed" from="Songs/Buttons/PlayButton" to="Songs" method="_on_play_pressed"]
[connection signal="menu_change_request" from="Settings" to="." method="_on_menu_change_requested"]
[connection signal="pressed" from="Settings/Main/Options/AudioButton" to="Settings" method="_on_audio_pressed"]
[connection signal="pressed" from="Settings/Main/Options/GameplayButton" to="Settings" method="_on_gameplay_pressed"]
[connection signal="pressed" from="Settings/Main/Options/ReturnButton" to="Settings" method="_on_return_pressed"]
[connection signal="pressed" from="Settings/Audio/Options/ReturnButton" to="Settings" method="_on_go_main_pressed"]
[connection signal="drag_ended" from="Settings/Gameplay/Options/ScrollOption/Slider" to="Settings" method="_on_scrool_speed_drag_ended"]
[connection signal="pressed" from="Settings/Gameplay/Options/ReturnButton" to="Settings" method="_on_go_main_pressed"]
[connection signal="pressed" from="Settings/Buttons/ReturnButton" to="Settings" method="_on_return_pressed"]
[connection signal="pressed" from="Settings/Buttons/PlayButton" to="." method="_on_play_pressed"]
